<h1 id="chapitre-3-fonctions-et-proc-dures">Chapitre 3 : Fonctions et procédures</h1>
<p>Pour effectuer une tâche il faut parfois répéter plusieurs <strong>instructions</strong>. Si on doit refaire la même tâche ailleurs dans le code on remarque que certains blocs vont être répétés régulièrement. Pour améliorer la <strong>lisibilité</strong> du code et réduire sa taille on peut alors utiliser des <strong>procédures</strong> ou des <strong>fonctions</strong> que l&#39;on va <strong>définir</strong> une fois et que l&#39;on va <strong>appeler</strong> lorsque l&#39;on aura besoin d&#39;exécuter les instructions qu&#39;elles contiennent.</p>
<h3 id="les-instructions">Les instructions</h3>
<p>C&#39;est une suite de commandes, tapées dans l&#39;invite de commande ou écrites à la suite dans l&#39;éditeur de texte. Elles constituent la colonne vertébrale du programme et ne sont exécutées que suivant l&#39;ordre d&#39;écriture.</p>
<p>Par exemple, ces instructions permettent d&#39;ajouter des élèves à une liste classe :</p>
<pre><code class="lang-python">é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span> = {}
é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span>[<span class="hljs-string">"identite"</span>] = <span class="hljs-string">"Alan Turing"</span>
é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span>[<span class="hljs-string">"âge"</span>] = <span class="hljs-number">16</span>
é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span>[<span class="hljs-string">"taille"</span>] = <span class="hljs-number">1.77</span>
classe.<span class="hljs-keyword">append</span>(é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span>)
</code></pre>
<p>Le programme aura bien enregistré les élèves dans la liste <code>classe</code> mais si on veut ajouter des élèves depuis plusieurs endroits dans le code il faudra recopier ces 5 lignes. Ça va donc augmenter la difficulté de lecture du code et compliquer la résolution d&#39;erreurs.</p>
<hr>
<p>On va donc utiliser les fonctions et procédures pour simplifier tout ça :</p>
<ul>
<li>Une <strong>procédure</strong> est un objet que l&#39;on peut appeler de n&#39;importe où dans son code en lui donnant des arguments, qui va exécuter du code et <strong>ne rien renvoyer</strong>.</li>
<li>Une <strong>fonction</strong> est une procédure qui renvoi quelque-chose. (via <code>return</code>)</li>
</ul>
<p>Que ce soit une fonction ou une procédure on les définit en utilisant le mot réservé <code>def</code> suivi des instructions indentées.</p>
<h3 id="les-proc-dures">Les procédures</h3>
<p>Pour reprendre l&#39;exemple de l&#39;élève, on peut définir une procédure <code>ajout_élève</code> et l&#39;appeler :</p>
<pre><code class="lang-python">def ajout_é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span>(prénom, nom, âge, taille):
    é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span> = {}
    é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span>[<span class="hljs-string">"identite"</span>] = prénom + <span class="hljs-string">" "</span> + nom
    é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span>[<span class="hljs-string">"âge"</span>] = âge
    é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span>[<span class="hljs-string">"taille"</span>] = taille
    classe.<span class="hljs-keyword">append</span>(é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span>)

ajout_é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span>(<span class="hljs-string">"Alan"</span>, <span class="hljs-string">"Turing"</span>, <span class="hljs-number">16</span>, <span class="hljs-number">1.77</span>)
</code></pre>
<p>Ce code donne exactement le même résultat que plus haut mais ajouter un élève prend maintenant une seule ligne claire, beaucoup plus facile à comprendre dans un grand code.</p>
<h3 id="les-fonctions">Les fonctions</h3>
<p>Il y a cependant un problème, si on essaye d&#39;exécuter la procédure <code>ajout_élève(&quot;Alan&quot;, 5, 16, 1.77)</code> cela va causer une erreur et arrêter le programme. On peut alors utiliser <code>try: ... except: ...</code> pour gérer cette erreur :</p>
<pre><code class="lang-python">def ajout_é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span>(prénom, nom, âge, taille):
    <span class="hljs-keyword">try</span>:
        é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span> = {}
        é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span>[<span class="hljs-string">"identite"</span>] = prénom + <span class="hljs-string">" "</span> + nom
        é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span>[<span class="hljs-string">"âge"</span>] = âge
        é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span>[<span class="hljs-string">"taille"</span>] = taille
        classe.<span class="hljs-keyword">append</span>(é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span>)
        <span class="hljs-keyword">return</span> True
    excep<span class="hljs-variable">t:</span>
        <span class="hljs-keyword">return</span> False

réussi = ajout_é<span class="hljs-keyword">l</span>è<span class="hljs-keyword">ve</span>(<span class="hljs-string">"Alan"</span>, <span class="hljs-string">"Turing"</span>, <span class="hljs-number">16</span>, <span class="hljs-number">1.77</span>)
</code></pre>
<p>On a ici une fonction qui renvoi un booléen, True si l&#39;ajout de l&#39;élève s&#39;est correctement déroulé, False sinon. On peut stocker le retour d&#39;une fonction dans une variable.</p>
